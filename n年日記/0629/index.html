<!doctype html><html lang=ja xmlns=http://www.w3.org/1999/xhtml><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=favicon.svg type=image/svg+xml><link rel=alternate type=application/rss+xml href=/n%E5%B9%B4%E6%97%A5%E8%A8%98/0629/index.xml title=d.sk85.org><title>0629</title>
<link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/font.css></head><body><header><a href=/ title=top><span class=menu>top</span></a>&nbsp;<a href=/archives/ title=archives><span class=menu>archives</span></a>&nbsp;<a href=/tags/ title=tags><span class=menu>tags</span></a>&nbsp;<a href=/about/ title=about><span class=menu>about</span></a>&nbsp;<a href=https://memos.sk85.org title=memos><span class=menu>memos</span></a>&nbsp;<a href=/search/ title=search><span class=menu>search</span></a>&nbsp;</header><h1>06月29日 (n年日記)</h1><form method=get action=/search/><input type=text name=q size=20>
<input type=submit value=Search>
<input type=hidden name=enc value=UTF-8></form><dl><dt><a href=/posts/2025/06/29/251648/><time datetime=2025-06-29>2025-06-29&ensp;(日)</time></a></dt><dd>午前 子供の朝食作り 昨日のデニッシュパンを食べる ジムで運動、子供は水泳に行ったが休みだったとのこと。たまたまあった友達と遊んで帰宅 午後 夕方子供と公園で水鉄砲で遊ぶ 帰宅して風呂 早めに就寝 23:00 前 体調 70 その他 今日の Tabs</dd><dt><a href=/posts/2024/06/29/895822/><time datetime=2024-06-29>2024-06-29&ensp;(土)</time></a></dt><dd>午前 息子の体操教室に行くが休みなのを忘れていた 浦和美園に行き、電車を見たりして時間を潰す 11:30 ごろ帰宅 奥さんと些細なことで喧嘩 (奥さんが怖くて、体操教室休みなのを言えなかった) 余計なこと言わなきゃよかったなあ 自宅で昼食 午後 品川経由で平和島に 平和の森公園フィールドアスレチックに行った。浮島や船で息子は大喜びしていた。連れて行ってよかった。木も茂っていて、影が多くて涼しかったな。 体を洗って、公園前のキッチンカーでかき氷を食べる 京急蒲田でおにぎりを 4 個買って、また品川まで戻り、高崎線で帰宅 帰ってすぐにお風呂に入って、あとはゆっくり 疲れて 24:00 前に就寝 体調 70 僕にしては頑張った 公園で泥水の池に落ちていたが、大丈夫か? その他 今日の Tabs</dd><dt><a href=/posts/2023/06/29/912906/><time datetime=2023-06-29>2023-06-29&ensp;(木)</time></a></dt><dd>午前 息子通園 何故僕はこんなに仕事が遅いのだろう 実験 ミーティング 午後 実験 19:00 ごろ退社 体調 78 その他 夕食後、早くお風呂に入って勉強までやれば残った時間マインクラフトをやっていいことにした。 良くがんばってる youtube を辞めさせるために、感想文を書かせる家庭があるらしいが、親の目的のために、子供が楽しんでいることに、無理やり楽しくないことを混ぜるのは良くないかな 今日の Tabs</dd><dt><a href=/posts/2022/06/29/644845/><time datetime=2022-06-29>2022-06-29&ensp;(水)</time></a></dt><dd>午前 08:00出社 見積もりの調査 ミーティング 見積もり内容について指摘あり 午後 技術系の会議 会議の前に緊張感あり 会議では指摘事項あり 指摘事項なのに叱責と捉えてしまった 全体的にネガティブになっている インターンの実験準備 残業1.5時間 体調 73 気持ち的に晴れていない 家に帰っても、自分の仕事がうまく行ってない(進んでいない)ことで頭がいっぱい インターンの対応で自分の時間が取れないことはわかっているのに、自分の能力不足を責めてしまう 全てがネガティブになっている 早期覚醒あり 家では不機嫌さを抑えられなくなっている(態度に出ている-甘えている) 奥さんの些細な言葉を批判に捉えてしまい、すごくイライラしてしまう すぐに謝るが、良くない もっと自分のできているところを褒めたらと奥さんに言われた その通りだと思う その他 今日のTabs</dd><dt><a href=/posts/2021/06/29/280750/><time datetime=2021-06-29>2021-06-29&ensp;(火)</time></a></dt><dd>午前 7:00起床 二度寝 出社してひたすら実験 金曜の残りを後処理 依頼測定の対応 ミーティング 午後 腕の痛みが消失 昨日出てきたアイデアを実証するために新しい実験２つ 一つは処理して分析依頼 恩師にレビューを読んだ旨連絡 残業1.5時間 夕食は竜田揚げが大変美味しかったので食べすぎて胸焼け 24:00就寝 体調 普通 その他 電車の中間車の設計を終了 ロゴをAffinity Designで作成 次は窓のシールを作ろう 新料金プラン「マイピタ」が好調のmineo　1.5Mbps使い放題のサービスに踏み切った狙いは？：MVNOに聞く（1/3 ページ） - ITmedia Mobile</dd><dt><a href=/posts/2019/06/29/395779/><time datetime=2019-06-29>2019-06-29&ensp;(土)</time></a></dt><dd>hugoでサイトを作るにあたって、Markdownファイルやテンプレートはgithub上で管理している。
github上のリポジトリにcommitがあるとgithubからwebhookが飛ぶ。
それを受け取ったサーバー上でgit pullして同期、その後hugoでデプロイ
Webhookサーバーを書いた skt1984/webhook
hook.jsonにアドレス, シークレットキー, X-GitHub-Event及び実行したいシェルスクリプトを指定する。
[ { "path": "/hugo", "name": "put", "shell": "sh", "execute-command": "hugo.sh", "execute-command-directry": "/home/username/webhook", "X-GitHub-Event": "push", "method": "POST", "secret": "secret_key" } ] 起動時にjsonファイルとポートの指定が可能
./webhook -f hook.json -p :8080 github上のリポジトリでhostname:8080/hugoを対象にwebhookの設定を行い、commitが行われるとhugo.shが実行される。/home/username/repositoryではリモートリポジトリをgithubに指定
まずローカルにGitHubのリポジトリをcloneする
cd /home/username git clone git@github.com:username/repository.git hugoのbinaryを入手
cd /home/username/repository git pull cd /home/username/repository /path/to/hugobinary/hugo -d /phome/username/public``` systemdの登録について (userを指定しないとgitpull　できない・) [Unit] Description = webhook [Service] ExecStart = /path/to/webhook/webhook -f /path/to/webhook/hook.json -p :8080 Restart = always Type = simple User=user [Install] WantedBy = multi-user.target</dd></dl><footer></footer></body></html>