<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>0629 on d.sk85.org</title><link>/n%E5%B9%B4%E6%97%A5%E8%A8%98/0629/</link><description>Recent content in 0629 on d.sk85.org</description><generator>Hugo 0.125.1</generator><language>ja</language><lastBuildDate>Sat, 01 Jul 2023 23:55:47 +0900</lastBuildDate><atom:link href="/n%E5%B9%B4%E6%97%A5%E8%A8%98/0629/index.xml" rel="self" type="application/rss+xml"/><item><title>2023-06-29</title><link>/posts/2023/06/29/912906/</link><pubDate>Thu, 29 Jun 2023 00:00:00 +0900</pubDate><guid>/posts/2023/06/29/912906/</guid><description>午前 息子通園 何故僕はこんなに仕事が遅いのだろう 実験 ミーティング 午後 実験 19:00 ごろ退社 体調 78 その他 夕食後、早くお風呂に入って勉強までやれば残った時間マインクラフトをやっていいことにした。 良くがんばってる youtube を辞めさせるために、感想文を書かせる家庭があるらしいが、親の目的のために、子供が楽しんでいることに、無理やり楽しくないことを混ぜるのは良くないかな 今日の Tabs</description></item><item><title>2022-06-29</title><link>/posts/2022/06/29/644845/</link><pubDate>Wed, 29 Jun 2022 00:00:00 +0900</pubDate><guid>/posts/2022/06/29/644845/</guid><description>午前 08:00出社 見積もりの調査 ミーティング 見積もり内容について指摘あり 午後 技術系の会議 会議の前に緊張感あり 会議では指摘事項あり 指摘事項なのに叱責と捉えてしまった 全体的にネガティブになっている インターンの実験準備 残業1.5時間 体調 73 気持ち的に晴れていない 家に帰っても、自分の仕事がうまく行ってない(進んでいない)ことで頭がいっぱい インターンの対応で自分の時間が取れないことはわかっているのに、自分の能力不足を責めてしまう 全てがネガティブになっている 早期覚醒あり 家では不機嫌さを抑えられなくなっている(態度に出ている-甘えている) 奥さんの些細な言葉を批判に捉えてしまい、すごくイライラしてしまう すぐに謝るが、良くない もっと自分のできているところを褒めたらと奥さんに言われた その通りだと思う その他 今日のTabs</description></item><item><title>2021-06-29</title><link>/posts/2021/06/29/280750/</link><pubDate>Tue, 29 Jun 2021 23:18:34 +0900</pubDate><guid>/posts/2021/06/29/280750/</guid><description>午前 7:00起床 二度寝 出社してひたすら実験 金曜の残りを後処理 依頼測定の対応 ミーティング 午後 腕の痛みが消失 昨日出てきたアイデアを実証するために新しい実験２つ 一つは処理して分析依頼 恩師にレビューを読んだ旨連絡 残業1.5時間 夕食は竜田揚げが大変美味しかったので食べすぎて胸焼け 24:00就寝 体調 普通 その他 電車の中間車の設計を終了 ロゴをAffinity Designで作成 次は窓のシールを作ろう 新料金プラン「マイピタ」が好調のmineo　1.5Mbps使い放題のサービスに踏み切った狙いは？：MVNOに聞く（1/3 ページ） - ITmedia Mobile</description></item><item><title>Hugoで作った静的サイトのデータをgithubで管理する</title><link>/posts/2019/06/29/395779/</link><pubDate>Sat, 29 Jun 2019 13:23:38 +0900</pubDate><guid>/posts/2019/06/29/395779/</guid><description>hugoでサイトを作るにあたって、Markdownファイルやテンプレートはgithub上で管理している。
github上のリポジトリにcommitがあるとgithubからwebhookが飛ぶ。
それを受け取ったサーバー上でgit pullして同期、その後hugoでデプロイ
Webhookサーバーを書いた skt1984/webhook
hook.jsonにアドレス, シークレットキー, X-GitHub-Event及び実行したいシェルスクリプトを指定する。
[ { &amp;#34;path&amp;#34;: &amp;#34;/hugo&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;put&amp;#34;, &amp;#34;shell&amp;#34;: &amp;#34;sh&amp;#34;, &amp;#34;execute-command&amp;#34;: &amp;#34;hugo.sh&amp;#34;, &amp;#34;execute-command-directry&amp;#34;: &amp;#34;/home/username/webhook&amp;#34;, &amp;#34;X-GitHub-Event&amp;#34;: &amp;#34;push&amp;#34;, &amp;#34;method&amp;#34;: &amp;#34;POST&amp;#34;, &amp;#34;secret&amp;#34;: &amp;#34;secret_key&amp;#34; } ] 起動時にjsonファイルとポートの指定が可能
./webhook -f hook.json -p :8080 github上のリポジトリでhostname:8080/hugoを対象にwebhookの設定を行い、commitが行われるとhugo.shが実行される。/home/username/repositoryではリモートリポジトリをgithubに指定
まずローカルにGitHubのリポジトリをcloneする
cd /home/username git clone git@github.com:username/repository.git hugoのbinaryを入手
cd /home/username/repository git pull cd /home/username/repository /path/to/hugobinary/hugo -d /phome/username/public``` systemdの登録について (userを指定しないとgitpull　できない・) [Unit] Description = webhook [Service] ExecStart = /path/to/webhook/webhook -f /path/to/webhook/hook.json -p :8080 Restart = always Type = simple User=user [Install] WantedBy = multi-user.</description></item></channel></rss>