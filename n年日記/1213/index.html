<!doctype html><html lang=en-us xmlns=http://www.w3.org/1999/xhtml><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=data:,%89PNG%0D%0A%1A%0A><link rel=alternate type=application/rss+xml href=/n%E5%B9%B4%E6%97%A5%E8%A8%98/1213/index.xml title=d.sk85.org><title>1213</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/font.css></head><body><header><a href=/ title=top><span class=menu>top</span></a>&nbsp;<a href=/archives/ title=archives><span class=menu>archives</span></a>&nbsp;<a href=/tags/ title=tags><span class=menu>tags</span></a>&nbsp;<a href=/about/ title=about><span class=menu>about</span></a>&nbsp;</header><h1>12月13日 (n年日記)</h1><form method=get action=https://dsearch.sk85.org/cgi/><input type=text name=phrase size=20>
<input type=submit value=Search>
<input type=hidden name=enc value=UTF-8></form><dl><dt><a href=/posts/2021/12/13/701477/><time datetime=2021-12-13>2021-12-13&ensp;(月)</time></a></dt><dd>午前 本日有給 朝寝坊 昼食は隣のファミレスに 午後 だらだらと過ごす 夕方子供おむかえ 体調 普通 その他 VPSサーバーから転出 費用削減のためにVPSサーバー上の静的ファイルをCloudflare PagesとGithubPagesに移行
Cloudflare Pagesにsk85.orgにっきを移行 ドメインのトップはGithub Pagesに移行 AレコードにGithub PagesのIPアドレスを登録する CloudflareのproxyをオフにしないとGithub PagesのEnforce HTTPSが有効にならないようだ cloudflareのSSL/TLS設定をFull (strict)からFlexibleに変更することでcloudflareとgithub pages間を非https通信にすることで対応できるが望ましくはないな Github PagesのCustom domainでAppexドメインを指定してCNAMEにwwwも指定することでwwwサブドメインからもアクセス可能になる About custom domains and GitHub Pages Managing a custom domain for your GitHub Pages site GitHub Pages で HTTPS を有効にする | tellme.tokyo 今日のTabs なし</dd><dt><a href=/posts/2020/12/13/388521/><time datetime=2020-12-13>2020-12-13&ensp;(日)</time></a></dt><dd>フォルダでの管理をやめ、contents/post以下に YYYYMMDD_XXXXXX.md 命名ルール (X:数字)のファイルを置くようにした。
ファイルのフロントマターにslug: XXXXXXを指定するようにした。
URLの構成を変えて、/posts/YYYY/MM/DD/XXXXXX/でアクセスできるようにしたので、
一日に複数の記事をかけるようになった。分類はtagのみ。</dd><dt><a href=/posts/2020/12/13/758287/><time datetime=2020-12-13>2020-12-13&ensp;(日)</time></a></dt><dd>conoha VPSへの移行に伴って、hugoのデプロイ方法を変更した。
今までは、GitHubにpushするとGitHubからVPSにWebhookが飛び、
それを起点にVPSからリポジトリをpullして、VPS上でデプロイしていた。
それを変更し、Gtihub actionを利用してpushを起点にしてVPSに
変更ファイルをrsyncして、VPS側で静的ファイルを出力するように変更した。
VPSへの同期の方法しか変わっていないが、VPS側でwebhookサーバーを立てる必要がなくなった。</dd></dl><footer></footer></body></html>