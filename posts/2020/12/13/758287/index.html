<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Your site description">
<link rel=alternate type=application/rss+xml href=//index.xml title=d.sk85.org/>
<link rel="shortcut icon" href=/favicon.ico>
<link rel=stylesheet href=/css/style.min.css>
<title>hugoのデプロイ方法を変更した</title>
</head>
<body><header id=banner>
<h2><a href=/>d.sk85.org/</a></h2>
<nav>
<ul>
<li>
<a href=/posts/ title=posts>posts</a>
</li><li>
<a href=/archives/ title=archives>archives</a>
</li><li>
<a href=/tags/ title=tags>tags</a>
</li><li>
<a href=/about/ title=about>about</a>
</li>
</ul>
</nav>
</header>
<form method=get action=https://dsearch.sk85.org/cgi/>
<div>
<input type=text name=phrase size=20>
<input type=submit value=Search>
<input type=hidden name=enc value=UTF-8>
</div>
</form>
<main id=content>
<script src=https://unpkg.com/hotkeys-js/dist/hotkeys.min.js></script>
<script type=text/javascript>hotkeys('n,p',function(b,a){switch(a.key){case'n':document.getElementById('next-post-link').click();break;case'p':document.getElementById('previous-post-link').click()}})</script>
<article>
<header id=post-header>
<h1>hugoのデプロイ方法を変更した</h1><time>Sun. December 13, 2020</time><div id=filename>
<a href=https://github.com/sk85org/sk85.org-blog/blob/main/content/posts//20201213_758287.md>20201213_758287.md</a>
</div><a href=/tags/hugo/>hugo</a>&nbsp;</header><p>conoha VPSへの移行に伴って、hugoのデプロイ方法を変更した。<br>
今までは、GitHubにpushするとGitHubからVPSにWebhookが飛び、<br>
それを起点にVPSからリポジトリをpullして、VPS上でデプロイしていた。</p>
<p>それを変更し、Gtihub actionを利用してpushを起点にしてVPSに<br>
変更ファイルをrsyncして、VPS側で静的ファイルを出力するように変更した。<br>
VPSへの同期の方法しか変わっていないが、VPS側でwebhookサーバーを立てる必要がなくなった。</p>
</article><div class=pagination style=text-align:center>
<span class=next-post>
<a href=/posts/2020/12/12/683040/ id=previous-post-link>
← 買ってよかったもの2020
</a>
</span>
&nbsp;/&nbsp;
<span class=previous-post>
<a href=/posts/2020/12/13/388521/ id=next-post-link>
hugoのURL構成を変更した →
</a>
</span>
</div>
</main><footer id=footer>
</footer>
</body>
</html>