<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=56934&amp;path=livereload" data-no-instant defer></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
      <meta name="filename" content="20201213_758287.md" />
    
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    
    
    <title>hugoのデプロイ方法を変更した</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/style.css"/>
<link rel="stylesheet" href="/css/font.css"/>

</head>
<body><header>
  <a href="/" title="top"><span class="menu">top</span></a>&nbsp;<a href="/archives/" title="archives"><span class="menu">archives</span></a>&nbsp;<a href="/tags/" title="tags"><span class="menu">tags</span></a>&nbsp;<a href="/about/" title="about"><span class="menu">about</span></a>&nbsp;
</header>

<h1>hugoのデプロイ方法を変更した</h1>
<form method="get" action=https://dsearch.sk85.org/cgi/>
    <input type="text" name="phrase" value="" size="20" />
    <input type="submit" value="Search" />
    <input type="hidden" name="enc" value="UTF-8" />
</form>
<time datetime="2020-12-13" id="single_page_date">
  2020-12-13&ensp;(日)
</time>
|

  Tags:
  
  
  
  <span>
    <a href="//localhost:56934/tags/hugo">hugo</a>
  </span>
  
  

|

  
  
  
  <span>
    <a href="//localhost:56934/n%E5%B9%B4%E6%97%A5%E8%A8%98/1213">n年日記</a>
  </span>
  
  

<p>conoha VPSへの移行に伴って、hugoのデプロイ方法を変更した。<br>
今までは、GitHubにpushするとGitHubからVPSにWebhookが飛び、<br>
それを起点にVPSからリポジトリをpullして、VPS上でデプロイしていた。</p>
<p>それを変更し、Gtihub actionを利用してpushを起点にしてVPSに<br>
変更ファイルをrsyncして、VPS側で静的ファイルを出力するように変更した。<br>
VPSへの同期の方法しか変わっていないが、VPS側でwebhookサーバーを立てる必要がなくなった。</p>
<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<script>
hotkeys('n,p', function (event, handler){
  switch (handler.key) {
    case 'n': document.getElementById('next-post-link').click()
      break;
    case 'p': document.getElementById('previous-post-link').click()
  }
});
</script>
<div id="pagination">
    
        <a href="//localhost:56934/posts/2020/12/12/683040/" id="previous-post-link">
            <span>Prev</span>
        </a>
    
    &ensp;
    
        <a href="//localhost:56934/posts/2020/12/13/388521/" id="next-post-link">
            <span>Next</span>
        </a>
    
    <script src="https://utteranc.es/client.js"
    repo="sk85org/sk85.org-blog-comment"
    issue-term="pathname"
    theme="preferred-color-scheme"
    crossorigin="anonymous"
    async>
</script>
</div>slug: 758287, filename: 20201213_758287.md
<footer>
  
</footer></body>
</html>
